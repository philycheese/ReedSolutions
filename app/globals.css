@tailwind base;
@tailwind components;
@tailwind utilities;

html {
  color-scheme: light;
  scroll-behavior: smooth;
}

body {
  background-color: theme("colors.canvas");
  color: theme("colors.ink");
  font-feature-settings: "cv02", "cv03", "cv04", "cv11";
}

::selection {
  background: rgba(232, 192, 32, 0.28);
}

/* Better default focus treatment */
:focus-visible {
  outline: 2px solid rgba(232, 192, 32, 0.8);
  outline-offset: 2px;
}

@layer utilities {
  /**
   * Simple "software panel" corners: clip only top-left and bottom-right.
   * We draw the border via a ::before inset so the outline remains clean.
   */
  .cut-corners {
    --cut: 8px;
    position: relative;
    --cut-border: var(--cut-border, #E8E5DD);
    /* what color to reveal in the clipped corners (defaults to page canvas) */
    --cut-mask: var(--cut-mask, #F7F6F2);
    /* Actually clip the element shape so corners are truly cut (including the border). */
    clip-path: polygon(
      var(--cut) 0,
      100% 0,
      100% calc(100% - var(--cut)),
      calc(100% - var(--cut)) 100%,
      0 100%,
      0 var(--cut)
    );
    /*
     * Draw a consistent 1px "stroke" around the clipped shape using drop-shadows.
     * This avoids border-join artifacts (diagonals looking thicker) on clip-path polygons.
     */
    filter:
      drop-shadow(1px 0 0 var(--cut-border))
      drop-shadow(-1px 0 0 var(--cut-border))
      drop-shadow(0 1px 0 var(--cut-border))
      drop-shadow(0 -1px 0 var(--cut-border))
      drop-shadow(1px 1px 0 var(--cut-border))
      drop-shadow(1px -1px 0 var(--cut-border))
      drop-shadow(-1px 1px 0 var(--cut-border))
      drop-shadow(-1px -1px 0 var(--cut-border));
  }

  .cut-corners::before,
  .cut-corners::after {
    content: none;
  }

  .cut-border-line {
    --cut-border: #E8E5DD;
  }

  .cut-border-white-15 {
    --cut-border: rgba(255, 255, 255, 0.18);
  }

  .cut-border-canvas-35 {
    --cut-border: rgba(247, 246, 242, 0.5);
  }

  .cut-mask-canvas {
    --cut-mask: #F7F6F2;
  }

  .cut-mask-accent {
    --cut-mask: #0F766E;
  }

  .cut-mask-white-60 {
    --cut-mask: rgba(255, 255, 255, 0.6);
  }

  @supports not (clip-path: polygon(0 0)) {
    .cut-corners {
      clip-path: none;
    }
    .cut-corners::before {
      content: none;
    }
    .cut-corners::after {
      content: none;
    }
  }
}
